extends Node2D

# Player position on a 3x3 grid (x: 0-2, y: 0-2)
var grid_pos: Vector2 = Vector2(1, 1)  # Start in center by default
var facing: int = 0  # 0=up, 1=right, 2=down, 3=left

# Movement functions
func move_forward():
	match facing:
		0:
			if grid_pos.y > 0:
				grid_pos.y -= 1
		1:
			if grid_pos.x < 2:
				grid_pos.x += 1
		2:
			if grid_pos.y < 2:
				grid_pos.y += 1
		3:
			if grid_pos.x > 0:
				grid_pos.x -= 1
	print("Moved forward to ", grid_pos)

func move_backward():
	match facing:
		0:
			if grid_pos.y < 2:
				grid_pos.y += 1
		1:
			if grid_pos.x > 0:
				grid_pos.x -= 1
		2:
			if grid_pos.y > 0:
				grid_pos.y -= 1
		3:
			if grid_pos.x < 2:
				grid_pos.x += 1
	print("Moved backward to ", grid_pos)

func turn_left():
	facing = (facing - 1) % 4
	print("Turned left. Now facing ", facing)

func turn_right():
	facing = (facing + 1) % 4
	print("Turned right. Now facing ", facing)


# Combat actions - these just notify the main scene by calling methods or you can emit signals if you want

func fight():
	print("Player chose to Fight")

func defend():
	print("Player chose to Defend")

func run():
	print("Player chose to Run")
